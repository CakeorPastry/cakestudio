<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Final Exam Notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            margin: 0;
            padding: 0;
            background: #0d0d0d;
            font-family: Arial, sans-serif;
            color: white;
            overflow-x: hidden;
            text-align: center;
        }

        h1 {
            margin-top: 25px;
            font-size: 2.3rem;
            font-weight: 700;
            color: #eaeaea;
        }

        .btn-container {
            margin-top: 35px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 18px;
        }

        .dl-btn {
            width: 260px;
            padding: 14px;
            border-radius: 7px;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            background: #1c1c1c;
            color: #fff;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            box-shadow: 0 0 8px #000;
        }

        .dl-btn:disabled {
            background: black;
            cursor: not-allowed;
        }

        .dl-btn:hover {
            background: #2b2b2b;
        }

        #captchaBox {
            width: 330px;
            margin: 25px auto;
            padding: 18px;
            background: #1a1a1a;
            border-radius: 10px;
            display: none;
            box-shadow: 0 0 12px #000;
        }

        .cf-like {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .fake-checkbox {
            width: 30px;
            height: 30px;
            border: 2px solid #6b6b6b;
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            background: #111;
        }

        .loading-spinner {
            border: 3px solid #444;
            border-top: 3px solid #09f;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            animation: spin 0.8s linear infinite;
            position: absolute;
            top: 0; left: 0;
            right: 0; bottom: 0;
            margin: auto;
            display: none;
        }

        .checkmark {
            color: #00ff6a;
            font-size: 22px;
            position: absolute;
            top: -4px; right: 4px;
            display: none;
        }

        @keyframes spin {
            0% {transform: rotate(0deg);}
            100% {transform: rotate(360deg);}
        }

        #captchaText {
            margin-top: 12px;
            font-size: 0.95rem;
            color: red;
        }

        .logo {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            opacity: 0.85;
        }
    </style>
</head>
<body>

<h1>Final Exam Notes</h1>

<div id="captchaBox">
    <div class="cf-like">
        <div class="fake-checkbox" id="verifyBox">
            <div class="loading-spinner" id="spinner"></div>
            <div class="checkmark" id="checkmark">âœ”</div>
        </div>
        <div style="text-align:left; margin-left:10px;">
            <div>Verify you are human</div>
        </div>
        <b class="logo">ðŸŽ‚</b>
    </div>
    <div id="captchaText">Complete captcha to download.</div>
</div>

<div class="btn-container">
    <button class="dl-btn" data-file="civics">ðŸ“˜ Civics</button>
    <button class="dl-btn" data-file="history1">ðŸ“• History 1</button>
    <button class="dl-btn" data-file="history2">ðŸ“• History 2</button>
    <button class="dl-btn" data-file="economics">ðŸ“— Economics</button>
</div>

<img src="/TEMPORARY/ThoseWhoKnow.png" style="margin: 50px; height: 150px;width: 150px;">

<audio id="sound1" preload hidden src="/TEMPORARY/Angaoba.mp3"></audio>
<audio id="sound2" preload hidden src="/TEMPORARY/Crazy.mp3"></audio>

<script>
// =========================
// FILE PATHS
// =========================
const sound1 = document.getElementById("sound1");
const sound2 = document.getElementById("sound2");

const paths = {
    civics: "/TEMPORARY/CivicsFinal2025.pdf",
    economics: "/TEMPORARY/EconomicsFinal2025.pdf",
    history1: "/TEMPORARY/HistoryFinal2025(1).pdf",
    history2: "/TEMPORARY/HistoryFinal2025(2).pdf"
};

// =========================
// STATE
// =========================
let activeDownload = null;
let captchaPassed = false;

// =========================
// START CAPTCHA (NO TYPE HERE)
// =========================
function startCaptcha() {
    document.getElementById("captchaBox").style.display = "block";
    document.getElementById("captchaText").textContent = "Complete captcha to download.";
    document.getElementById("captchaText").style.color = "red";

    document.getElementById("spinner").style.display = "none";
    document.getElementById("checkmark").style.display = "none";

    sound1.play();

    disableButtons(true);
}

function disableButtons(x) {
    document.querySelectorAll(".dl-btn").forEach(btn => btn.disabled = x);
}

// =========================
// CAPTCHA CLICK
// =========================
document.getElementById("verifyBox").addEventListener("click", () => {
    if (captchaPassed) return;

    sound2.play();

    const spinner = document.getElementById("spinner");
    const checkmark = document.getElementById("checkmark");

    spinner.style.display = "block";

    const delay = Math.floor(Math.random() * (10000 - 1000 + 1)) + 1000;

    disableButtons(true);

    setTimeout(() => {
        spinner.style.display = "none";
        checkmark.style.display = "block";

        captchaPassed = true;

        document.getElementById("captchaText").style.color = "lime";
        document.getElementById("captchaText").textContent = "Verified! You may download now.";

        disableButtons(false);
    }, delay);
});

// =========================
// BUTTON CLICK LOGIC
// =========================
document.querySelectorAll(".dl-btn").forEach(btn => {
    btn.addEventListener("click", () => {
        const type = btn.dataset.file;

        // If captcha not yet done â†’ start captcha for THIS file
        if (!captchaPassed) {
            activeDownload = type;
            startCaptcha();
            return;
        }

        // Already verified â†’ download the clicked file
        const file = paths[type];
        const a = document.createElement("a");
        a.href = file;
        a.download = file.split("/").pop();
        a.click();

        sound2.play();
    });
});
</script>
</body>
</html>
